<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="../assets/images/favicon.ico">
    <link rel="stylesheet" href="../style/index.css">
    <title>NET SPOT - Extração em Massa</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <!-- Toggle Dark Mode -->
    <button id="theme-toggle" class="theme-toggle" title="Alternar modo escuro">
        <i class="fas fa-moon"></i>
    </button>
    
    <div class="body-consult">
        <div class="logo">
            <img src="../assets/images/net-spot-lite.png" alt="Logo do Net Spot">
        </div>
        <div class="body-consult-itens">
            <div class="bulk-container">
                <div class="bulk-header">
                    <h2>Extração em Massa</h2>
                    <p>Faça consultas de múltiplos endereços de uma vez</p>
                </div>

                <div class="bulk-upload">
                    <div class="upload-area" id="upload-area">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Clique ou arraste um arquivo CSV aqui</p>
                        <small>Formato: cep,num (uma linha por consulta)</small>
                    </div>
                    <input type="file" id="csv-file" accept=".csv" hidden>
                </div>

                <div class="bulk-options">
                    <fieldset>
                        <legend>Operadoras:</legend>
                        <label><input type="checkbox" class="bulk-provider-checkbox" name="tim" checked> TIM</label>
                        <label><input type="checkbox" class="bulk-provider-checkbox" name="sky" checked> SKY</label>
                        <label><input type="checkbox" class="bulk-provider-checkbox" name="unifique" checked> Unifique</label>
                        <label><input type="checkbox" class="bulk-provider-checkbox" name="claro"> Claro</label>
                        <label><input type="checkbox" class="bulk-provider-checkbox" name="vero-internet"> Vero</label>
                        <label><input type="checkbox" class="bulk-provider-checkbox" name="oi"> Oi</label>
                    </fieldset>
                </div>

                <div class="bulk-actions">
                    <button id="btn-back" class="btn-secondary">← Voltar para Consulta Simples</button>
                    <button id="btn-process" class="btn-primary" disabled>Processar Arquivo</button>
                </div>
            </div>
        </div>
    </div>

    <div class="response-container">
        <div id="loading" style="visibility: hidden;" class="loading">
            <div class="spinner"></div>
            <span id="loading-text">Carregando...</span>
        </div>
        <div id="bulk-results" style="display: none;">
            <div class="results-header">
                <h3 id="results-title">Resultados</h3>
                <div class="results-actions">
                    <button id="btn-download-csv" class="btn-small">
                        <i class="fas fa-download"></i> CSV
                    </button>
                    <button id="btn-download-json" class="btn-small">
                        <i class="fas fa-download"></i> JSON
                    </button>
                    <button id="btn-new-process" class="btn-small">
                        <i class="fas fa-plus"></i> Novo
                    </button>
                </div>
            </div>
            <div id="results-table-container"></div>
        </div>
        <div id="results-summary" style="display: none;">
            <p>Processadas: <strong id="summary-processed">0</strong> consultas</p>
            <p>Com cobertura: <strong id="summary-with-coverage">0</strong></p>
            <p>Sem cobertura: <strong id="summary-without-coverage">0</strong></p>
        </div>
    </div>

    <div class="notification">
    </div>

    <div class="footer">
        <p>Desenvolvido por <a href="http://github.com/GuiStelmach">@GuiStelmach</a></p>
    </div>

    <!-- Scripts -->
    <script src="../../backend/api/provider.js"></script>
    <script src="../../backend/formValidate/validateZipcode.js"></script>
    <script src="../../backend/formValidate/validateNumber.js"></script>
    <script src="../../backend/formValidate/themeToggle.js"></script>
    <script src="../../backend/formValidate/formValidation.js"></script>
    <script src="../../backend/formValidate/bulkProcessor.js"></script>

</body>

</html>
